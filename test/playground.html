<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Playground</title>
    </head>
    <body>

        <script type="module" src="perf/perf.js"></script>

        <div id="container" style="background: lightgray; display: inline-block">

        </div>

        <script>
          let registry = new FinalizationRegistry(heldValue => {
            console.log(heldValue)
          })
          let buffer = new Float32Array(10000)

            function play() {
                renderer = new Grapheme.WebGLRenderer()
                scene = new Grapheme.InteractiveScene()

                document.getElementById('container').appendChild(scene.domElement)

                polyline = new Grapheme.PolylineElement()
                scene.add(polyline)

                for (let i = 0; i < 1000; ++i) {
                  let view = buffer.subarray(0, 100)

                  registry.register(view, i)
                }
            }
        </script>

    </body>
</html>
